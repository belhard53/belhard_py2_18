
{% extends "base.html" %}
{% block title %}{{ student.surname }} {{ student.name }} — Студент{% endblock %}
{% block content %}
<h2 class="mb-3">{{ student.surname }} {{ student.name }}</h2>

<div class="row g-4">
  <div class="col-md-4">
    <div class="card">
      <div class="card-header">Информация</div>
      <div class="card-body">
        <p><strong>Возраст:</strong> {{ student.age }}</p>
        <p><strong>Пол:</strong> {{ student.get_sex_display }}</p>
        <p><strong>Статус:</strong>
          {% if student.active %}<span class="badge bg-success">Активный</span>
          {% else %}<span class="badge bg-secondary">Неактивный</span>{% endif %}
        </p>
      </div>
    </div>
    <div class="card mt-3">
      <div class="card-header">Курсы</div>
      <ul class="list-group list-group-flush">
        {% for c in student.course.all %}
          <li class="list-group-item">
            <a href="{% url 'main:course_detail' c.pk %}">
              {{ c.get_name_display }} — №{{ c.course_num }}
            </a>
          </li>
        {% empty %}
          <li class="list-group-item text-muted">Нет курсов</li>
        {% endfor %}
      </ul>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card">
      <div class="card-header">Оценки</div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-sm mb-0">
            <thead class="table-light">
              <tr>
                <th>Дата</th>
                <th>Курс</th>
                <th>Оценка</th>
              </tr>
            </thead>
            <tbody>
              {% for g in student.grades.all %}
                <tr>
                  <td>{{ g.date|default:"—" }}</td>
                  <td>{{ g.course.get_name_display }} — №{{ g.course.course_num }}</td>
                  <td>{{ g.grade }}</td>
                </tr>
              {% empty %}
                <tr><td colspan="3" class="text-muted p-3">Оценок нет</td></tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}